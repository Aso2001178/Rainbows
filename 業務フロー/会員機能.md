```
@startuml
skinparam class {
}

title 会員登録・会員機能

opt #moccasin 未登録
ユーザー -> Webサーバー : ユーザー登録(情報を入力)
Webサーバー -> DBサーバー : ユーザー登録
DBサーバー -> DBサーバー : 登録処理
DBサーバー -> Webサーバー : 登録結果
Webサーバー -> ユーザー : 登録結果
end

ユーザー -> Webサーバー : ログイン(ID・PASS入力)
Webサーバー -> DBサーバー : ログイン照会
DBサーバー -> DBサーバー : ログイン処理
DBサーバー -> Webサーバー : 認証結果

alt  #lightcyan ログイン成功
Webサーバー -> ユーザー : 認証結果(成功)

ユーザー -> Webサーバー : 変更する情報を入力
Webサーバー -> DBサーバー :変更情報
DBサーバー -> DBサーバー : 変更処理
DBサーバー -> Webサーバー : 編集結果
Webサーバー -> ユーザー : 編集結果

ユーザー -> Webサーバー : 購入履歴をクリック
Webサーバー -> DBサーバー : 履歴照会
DBサーバー -> DBサーバー : 履歴取得処理
DBサーバー -> Webサーバー : 照会結果
Webサーバー -> ユーザー : 照会結果

ユーザー -> Webサーバー : 退会するをクリック
Webサーバー -> DBサーバー : 退会照会
DBサーバー -> DBサーバー : 退会処理
DBサーバー -> Webサーバー : 退会結果
Webサーバー -> ユーザー : 退会結果

ユーザー -> Webサーバー : ログアウト
Webサーバー -> DBサーバー : ログアウト照会
DBサーバー -> DBサーバー : ログアウト処理
DBサーバー -> Webサーバー : ログアウト結果
Webサーバー -> ユーザー : ログアウト結果

else #mistyrose ログイン失敗
Webサーバー -> ユーザー : 認証結果(失敗)
end
@enduml
```
